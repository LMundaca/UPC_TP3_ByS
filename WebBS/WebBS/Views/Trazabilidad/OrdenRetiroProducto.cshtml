
@{
    ViewBag.Title = "Orden de Retiro de Producto";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="~/Scripts/datepicker/bootstrap-datetimepicker.min.css" rel="stylesheet" />
<div class="panel panel-info">
    <h4 class="panel-heading">Orden de Retiro de Producto</h4>
    <div class="panel-body">
       <div class="row" id="busquedadeproducto">
            <div class="col-md-4">
                <div class="form-group">
                    <label class="control-label">Buscar producto:</label>
                    <div class="input-group">
                        <input type="text" class="form-control" data-bind="value: Filtro.NombreProducto" placeholder="Ingrese un texto..." id="jmombreproducto" />
                        <div class="input-group-btn">
                            <button type="button" class="btn btn-default" data-bind="click: $root.BuscarProducto">
                                <i class="fa fa-search"></i>
                            </button>
                        </div>
                        <div class="input-group-btn" style="left:9px;">
                            <button type="button" class="btn btn-primary" data-bind="click: ConsultarOrden">Consultar Orden Retiro</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>



        <div class="form-horizontal" id="retiro">           
            <h4>Detalles del producto</h4>
            <div class="row">
                <div class="col-xs-12">
                    <div class="form-group form-group-sm">
                        <label class="control-label col-md-2 col-sm-4 col-xs-12">Nombre:</label>
                        <div class="col-md-10 col-sm-8 col-xs-12">
                            <div class="form-control" data-bind="text: producto.nombreProducto"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12">
                    <div class="form-group form-group-sm">
                        <label class="control-label col-md-2 col-sm-4 col-xs-12">Descripción:</label>
                        <div class="col-md-10 col-sm-8 col-xs-12">
                            <div class="form-control" data-bind="text: producto.descripcion"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12">
                    <div class="form-group form-group-sm">
                        <label class="control-label col-md-2 col-sm-4 col-xs-12">Presentación:</label>
                        <div class="col-md-10 col-sm-8 col-xs-12">
                            <div class="form-control" data-bind="text: producto.presentacion"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group form-group-sm">
                        <label class="control-label col-md-4 col-sm-4 col-xs-12">Tipo de producto:</label>
                        <div class="col-md-8 col-sm-8 col-xs-12">
                            <div class="form-control" data-bind="text: producto.tipoProducto"></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group form-group-sm">
                        <label class="control-label col-md-4 col-sm-4 col-xs-12">Peso del producto:</label>
                        <div class="col-md-8 col-sm-8 col-xs-12">
                            <div class="form-control" data-bind="text: producto.pesoProducto"></div>
                        </div>
                    </div>
                </div>
            </div>            
            <h4>Detalle del Retiro</h4>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group form-group-sm">
                        <label class="control-label col-md-4 col-sm-4 col-xs-12">Fecha:</label>
                        <div class="col-md-8 col-sm-8 col-xs-12">
                            <div class="input-group" data-bind="dateTimePicker: producto.fecha, dateTimePickerOptions: { format: 'L', showClear: true }">
                                <input type="text" class="form-control" />
                                <div class="input-group-addon"><i class="fa fa-calendar"></i></div>
                            </div>                            
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12">
                    <div class="form-group form-group-sm">
                        <label class="control-label col-md-2 col-sm-4 col-xs-12">Autorizado:</label>
                        <div class="col-md-10 col-sm-8 col-xs-12">
                            <input type="text" class="form-control" data-bind="value: producto.autorizado" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12">
                    <div class="form-group form-group-sm">
                        <label class="control-label col-md-2 col-sm-4 col-xs-12">Motivo:</label>
                        <div class="col-md-10 col-sm-8 col-xs-12">
                            <input type="text" class="form-control" data-bind="value: producto.motivo" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12">
                    <div class="form-group form-group-sm">
                        <label class="control-label col-md-2 col-sm-4 col-xs-12">Riesgo:</label>
                        <div class="col-md-10 col-sm-8 col-xs-12">
                            <input type="text" class="form-control" data-bind="value: producto.riesgo" />
                        </div>
                    </div>
                </div>
            </div>            
            <div class="form-inline text-right">
                
                <div class="form-group" id="seccionbotonImprimir">
                    <div class="col-xs-12">
                        <button type="button" class="btn btn-primary" data-bind="click: $root.Imprimir">Imprimir</button>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-xs-12">
                        <button type="button" class="btn btn-primary form-control" data-bind="click: $root.Guardar">Guardar</button>
                    </div>
                </div>               
                <div class="form-group">
                    <div class="col-xs-12">
                        <button type="button" class="btn btn-primary form-control" data-bind="click: $root.Nuevo">Cancelar</button>
                        
                    </div>
                </div>                
            </div>
        </div>






      

    </div>


    <div id="modal-productos" class="modal fade" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Lista de productos</h4>
                </div>
                <div class="modal-body">
                    <div class="form-horizontal">
                        <table class="table table-bordered"
                               data-bind="dataTable: {
                                dataSource: productos,
                                rowTemplate: 'tmpl-producto',
                                columns: [
                                    { 'name': 'codigoProducto' },
                                    { 'name': 'nombreProducto' }
                                ], options: { aaSorting: [[0, 'asc']], aoColumnDefs: [{ 'mData': null, 'aTargets': [2] }] }
                            }">
                            <thead>
                                <tr>
                                    <th class="col-xs-1">Código</th>
                                    <th>Detalle</th>
                                    <th class="text-center col-xs-1">#</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                        <script id="tmpl-producto" type="text/html">
                            <td data-bind="text: $data.codigoProducto"></td>
                            <td data-bind="text: $data.nombreProducto"></td>
                            <td class="text-center">
                                <i class="fa fa-check-circle fa-lg" data-bind="click: modelo.SeleccionarProducto"></i>
                            </td>
                        </script>
                    </div>
                </div>
                <div class="modal-footer">
                    <label class="control-label">&nbsp;</label><br />
                </div>
            </div>
        </div>
    </div>

</div>


<div class="form-horizontal" id="retiroimprimir" style="display:none">
    <div id="seccionimprimir" class="panel panel-info">
        <h1>ORDEN DE RETIRO </h1>
        <h4>Detalles del producto</h4>
        <div class="row">
            <div class="col-xs-12">
                <div class="form-group form-group-sm">
                    <label class="control-label col-md-2 col-sm-4 col-xs-12">Nombre:</label>
                    <div class="col-md-10 col-sm-8 col-xs-12">
                        <div class="form-control" data-bind="text: producto.nombreProducto"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12">
                <div class="form-group form-group-sm">
                    <label class="control-label col-md-2 col-sm-4 col-xs-12">Descripción:</label>
                    <div class="col-md-10 col-sm-8 col-xs-12">
                        <div class="form-control" data-bind="text: producto.descripcion"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12">
                <div class="form-group form-group-sm">
                    <label class="control-label col-md-2 col-sm-4 col-xs-12">Presentación:</label>
                    <div class="col-md-10 col-sm-8 col-xs-12">
                        <div class="form-control" data-bind="text: producto.presentacion"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="form-group form-group-sm">
                    <label class="control-label col-md-4 col-sm-4 col-xs-12">Tipo de producto:</label>
                    <div class="col-md-8 col-sm-8 col-xs-12">
                        <div class="form-control" data-bind="text: producto.tipoProducto"></div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group form-group-sm">
                    <label class="control-label col-md-4 col-sm-4 col-xs-12">Peso del producto:</label>
                    <div class="col-md-8 col-sm-8 col-xs-12">
                        <div class="form-control" data-bind="text: producto.pesoProducto"></div>
                    </div>
                </div>
            </div>
        </div>
        <h4>Detalle del Retiro</h4>
        <div class="row">
            <div class="col-md-6">
                <div class="form-group form-group-sm">
                    <label class="control-label col-md-4 col-sm-4 col-xs-12">Fecha:</label>
                    <div class="col-md-8 col-sm-8 col-xs-12">
                        <div class="form-control" data-bind="text:producto.fecha"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-6">
                <div class="form-group form-group-sm">
                    <label class="control-label col-md-2 col-sm-4 col-xs-12">Autorizado:</label>
                    <div class="col-md-10 col-sm-8 col-xs-12">
                        <div class="form-control" data-bind="text: producto.autorizado" />
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-6">
                <div class="form-group form-group-sm">
                    <label class="control-label col-md-2 col-sm-4 col-xs-12">Motivo:</label>
                    <div class="col-md-10 col-sm-8 col-xs-12">
                        <div class="form-control" data-bind="text: producto.motivo" />
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-6">
            </div>
            <div class="col-xs-6">
                <div class="form-group form-group-sm">
                    <label class="control-label col-md-2 col-sm-4 col-xs-12">Riesgo:</label>
                    <div class="col-md-10 col-sm-8 col-xs-12">
                        <div class="form-control" data-bind="text: producto.riesgo" />
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="~/Scripts/moment/moment.min.js"></script>
<script src="~/Scripts/moment/es.js"></script>
<script src="~/Scripts/datepicker/bootstrap-datetimepicker.min.js"></script>
<script src="~/Scripts/datepicker/datetimepicker-knockout.js"></script>
<link href="~/Scripts/datatables/plugins/bootstrap/dataTables.bootstrap.min.css" rel="stylesheet" />
<script src="~/Scripts/datatables/media/js/jquery.dataTables.min.js"></script>
<script src="~/Scripts/datatables/plugins/bootstrap/dataTables.bootstrap.min.js"></script>
<script src="~/Scripts/datatables/media/js/knockout-datatables.js"></script>
<script src="~/Scripts/jquery-print.js"></script>
<script src="~/Content/js/ViewModel/OrdenRetiro.js"></script>
<script type="text/javascript">


$(document).ready(function () {
    ko.applyBindings(new ViewModel('@Html.Raw(Json.Encode(Model))'));
})

    </script>